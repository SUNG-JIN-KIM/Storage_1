<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>ÎÇòÎßåÏùò ÌéòÏù¥ÏßÄ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
    <style>
        @font-face {
            font-family: 'MaplestoryOTFBold';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@2.1/MaplestoryOTFBold.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'MaplestoryOTFBold', 'Roboto', sans-serif;
            background-color: #1e1e2f;
            color: #eee;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .navbar {
            background-color: #2c2c3c;
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
            user-select: none;
        }
        .navbar h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            color: #61dafb;
        }

        .main-content {
            max-width: 1024px;
            margin: 40px auto 80px;
            padding: 0 24px;
            text-align: center;
            animation: fadeIn 0.5s ease forwards;
        }

        .main-content h2 {
            font-size: 2.8rem;
            margin-bottom: 8px;
            color: #9bf1ff;
            text-shadow: 0 0 10px #42aaffaa;
        }

        .main-content p {
            font-size: 1.2rem;
            color: #bbb;
            margin-bottom: 24px;
            font-weight: 400;
        }

        /* ÏµúÍ∑º ÏÇ¨Ïö© + Í≤ÄÏÉâ ÎûòÌçº */
        .recent-search-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .recent-box {
            background-color: #2a2a3b;
            padding: 12px 20px;
            border-radius: 10px;
            color: #9bf1ff;
            font-weight: 600;
            font-size: 1.1rem;
            box-shadow: 0 0 10px #42aaff44;
            display: inline-block;
            user-select: text;
        }
        .recent-box span {
            color: #fff;
            font-weight: 700;
            padding-left: 6px;
        }

        .search-box-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
        }

        #searchBox {
            width: 100%;
            max-width: 360px;
            padding: 10px 14px;
            font-size: 1rem;
            border-radius: 8px;
            border: none;
            outline: none;
            box-shadow: inset 0 0 8px #61dafb88;
            background-color: #2a2a3b;
            color: #eee;
            transition: box-shadow 0.3s ease;
        }
        #searchBox::placeholder {
            color: #77bbffaa;
        }
        #searchBox:focus {
            box-shadow: 0 0 10px #61dafbcc;
            background-color: #1f1f2d;
        }

        .section {
            margin: 0 auto 60px;
            max-width: 1000px;
            padding: 0 10px;
            text-align: left;
        }

        .section h3 {
            font-size: 1.6rem;
            margin-bottom: 16px;
            font-weight: 700;
            color: #61dafb;
            border-bottom: 2px solid #42aaff88;
            padding-bottom: 6px;
            user-select: none;
        }

        .card-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 22px;
            justify-content: flex-start;
        }

        .card {
            background-color: #2d2d3a;
            border-radius: 12px;
            padding: 24px 20px 28px;
            width: 220px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            transition: transform 0.25s cubic-bezier(0.25, 1, 0.5, 1), background-color 0.3s;
            cursor: default;
            display: flex;
            flex-direction: column;
            align-items: center;
            user-select: none;
        }

        .card:hover, .card:focus-within {
            background-color: #3a3a4d;
            transform: translateY(-6px);
            box-shadow: 0 12px 26px rgba(0,0,0,0.4);
        }

        .card img {
            width: 52px;
            height: 52px;
            margin-bottom: 14px;
            filter: drop-shadow(0 0 2px #42aaffcc);
        }

        .card h4 {
            margin: 0 0 16px;
            font-weight: 700;
            font-size: 1.15rem;
            color: #aaddff;
            text-shadow: 0 0 4px #61dafbaa;
        }

        .card a,
        .card .dual-buttons button {
            display: inline-block;
            margin: 6px 6px 0 6px;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.25s ease, color 0.25s ease;
            border: none;
            user-select: none;
        }

        .card a {
            background-color: #1a73e8;
            color: #fff;
            text-decoration: none;
            box-shadow: 0 2px 8px #135abdcc;
        }
        .card a:hover,
        .card a:focus {
            background-color: #125ecf;
            outline: none;
            box-shadow: 0 0 12px #1a73e8aa;
        }

        .card .dual-buttons button {
            background-color: #ff7f50;
            color: #fff;
            box-shadow: 0 2px 8px #cc623dcc;
            min-width: 120px;
        }
        .card .dual-buttons button:hover,
        .card .dual-buttons button:focus {
            background-color: #e0633a;
            outline: none;
            box-shadow: 0 0 12px #ff7f5088;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 520px) {
            .card-grid {
                justify-content: center;
            }
            .card {
                width: 90%;
                max-width: 300px;
            }
            .navbar {
                padding: 14px 20px;
            }
        }
    </style>
</head>
<body>
<nav class="navbar" role="navigation" aria-label="Ï£ºÏöî ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò">
    <h1>üöÄ ÎÇòÎßåÏùò ÌéòÏù¥ÏßÄ</h1>
</nav>

<main class="main-content" role="main" tabindex="-1">
    <h2>ÌôòÏòÅÌï©ÎãàÎã§ üòÑ</h2>
    <p>ÌïÑÏöîÌïú Í∏∞Îä•ÏùÑ ÏïÑÎûòÏóêÏÑú ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</p>

    <div class="recent-search-wrapper">
        <div class="recent-box" aria-live="polite" aria-atomic="true">
            ÏµúÍ∑º ÏÇ¨Ïö©Ìïú Í∏∞Îä•:<span id="recentFeature"> ÏóÜÏùå</span>
        </div>
        <div class="search-box-wrapper">
            <input
                    type="search"
                    id="searchBox"
                    placeholder="Í∏∞Îä•Î™ÖÏúºÎ°ú Í≤ÄÏÉâÌïòÏÑ∏Ïöî..."
                    aria-label="Í∏∞Îä• Í≤ÄÏÉâ ÏûÖÎ†•"
                    autocomplete="off"
                    spellcheck="false"
            />
        </div>
    </div>

    <div id="featureSections" aria-live="polite" aria-atomic="true"></div>
</main>

<script>
    const featureData = [
        {
            title: "üì¶ Í∏∞Î≥∏ Í∏∞Îä•",
            items: [
                { name: "Í≥ÑÏÇ∞Í∏∞", icon: "https://img.icons8.com/fluency/48/calculator.png", type: "calculator" },
                { name: "ÌöåÏõê Îì±Î°ù", icon: "https://img.icons8.com/color/48/name.png", link: "/register" }
            ]
        },
        {
            title: "üéÆ Í≤åÏûÑ / Ïù∏ÌÑ∞ÎûôÏÖò",
            items: [
                { name: "Up N Down!!", icon: "https://img.icons8.com/color/48/bullseye.png", link: "/guess" },
                { name: "ÎØ∏Î°ú Í≤åÏûÑ", icon: "https://img.icons8.com/color/48/puzzle.png", link: "/maze" }
            ]
        },
        {
            title: "üìÑ Í∏∞ÌÉÄ ÌéòÏù¥ÏßÄ",
            items: [
                { name: "Ìó¨Î°ú", icon: "https://img.icons8.com/color/48/speech-bubble--v1.png", link: "/hellos" },
                { name: "KSJ", icon: "https://img.icons8.com/color/48/person-male.png", link: "/ksj" },
                { name: "ToDo Î¶¨Ïä§Ìä∏", icon: "https://img.icons8.com/color/48/task.png", link: "/todo" }
            ]
        }
    ];

    const container = document.getElementById("featureSections");
    const recentFeatureSpan = document.getElementById("recentFeature");
    const searchBox = document.getElementById("searchBox");

    function renderSections(filteredData = featureData) {
        container.innerHTML = "";
        filteredData.forEach(section => {
            if (!section.items.some(item => item.visible !== false)) return;

            const sectionDiv = document.createElement("div");
            sectionDiv.className = "section";

            const title = document.createElement("h3");
            title.textContent = section.title;
            sectionDiv.appendChild(title);

            const grid = document.createElement("div");
            grid.className = "card-grid";

            section.items.forEach(item => {
                if (item.visible === false) return;

                const card = document.createElement("div");
                card.className = "card";
                card.tabIndex = 0;

                const img = document.createElement("img");
                img.src = item.icon;
                img.alt = item.name + " ÏïÑÏù¥ÏΩò";
                card.appendChild(img);

                const name = document.createElement("h4");
                name.textContent = item.name;
                card.appendChild(name);

                if (item.type === "calculator") {
                    const btnContainer = document.createElement("div");
                    btnContainer.className = "dual-buttons";

                    const btnInput = document.createElement("button");
                    btnInput.textContent = "ÏûÖÎ†•Ïãù Í≥ÑÏÇ∞Í∏∞";
                    btnInput.setAttribute("aria-label", "ÏûÖÎ†•Ïãù Í≥ÑÏÇ∞Í∏∞ Ïã§Ìñâ");
                    btnInput.onclick = () => {
                        localStorage.setItem("recentFeature", "ÏûÖÎ†•Ïãù Í≥ÑÏÇ∞Í∏∞");
                        window.location.href = "/calculator";
                    };

                    const btnButton = document.createElement("button");
                    btnButton.textContent = "Î≤ÑÌäºÏãù Í≥ÑÏÇ∞Í∏∞";
                    btnButton.setAttribute("aria-label", "Î≤ÑÌäºÏãù Í≥ÑÏÇ∞Í∏∞ Ïã§Ìñâ");
                    btnButton.onclick = () => {
                        localStorage.setItem("recentFeature", "Î≤ÑÌäºÏãù Í≥ÑÏÇ∞Í∏∞");
                        window.location.href = "/button-calculator";
                    };

                    btnContainer.appendChild(btnInput);
                    btnContainer.appendChild(btnButton);
                    card.appendChild(btnContainer);
                } else {
                    const link = document.createElement("a");
                    link.href = item.link;
                    link.textContent = "Ïù¥Îèô";
                    link.setAttribute("aria-label", `${item.name} ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô`);
                    link.onclick = () => {
                        localStorage.setItem("recentFeature", item.name);
                    };
                    card.appendChild(link);
                }
                grid.appendChild(card);
            });

            sectionDiv.appendChild(grid);
            container.appendChild(sectionDiv);
        });
    }

    function filterFeatures(keyword) {
        const lowerKeyword = keyword.trim().toLowerCase();
        if (!lowerKeyword) {
            featureData.forEach(section => {
                section.items.forEach(item => item.visible = true);
            });
            return featureData;
        }

        return featureData.map(section => {
            const filteredItems = section.items.map(item => {
                const match = item.name.toLowerCase().includes(lowerKeyword);
                return { ...item, visible: match };
            });
            return { ...section, items: filteredItems };
        });
    }

    window.onload = function () {
        const recent = localStorage.getItem("recentFeature");
        if (recent) recentFeatureSpan.innerText = recent;

        renderSections();

        searchBox.addEventListener("input", e => {
            const filtered = filterFeatures(e.target.value);
            renderSections(filtered);
        });
    };
</script>
</body>
</html>
